/* =============================
   Modern UI Stylesheet (TC Boussens)
   ============================= */

/* Variables */
:root {
  --font-base: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', Arial, sans-serif;
  --color-bg: #f6f4ef;
  --color-surface: #ffffff;
  --color-surface-alt: #faf8f3;
  --color-border: #e2d9cc;
  --color-primary: #0b5bb5;
  --color-primary-accent: #1570dd;
  --color-accent: #ffb347;
  --color-text: #2d2d2d;
  --color-text-light: #5c5c5c;
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 14px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
  --transition: 0.25s cubic-bezier(.4,.2,.2,1);
  --max-width: 1080px;
  --gradient-accent: linear-gradient(135deg,#0b5bb5,#1570dd 55%,#2d9fff);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #121417;
    --color-surface: #1c1f24;
    --color-surface-alt: #23272e;
    --color-border: #2f353d;
    --color-text: #e7e9ec;
    --color-text-light: #a8b0bb;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.7);
    --shadow-md: 0 4px 14px rgba(0,0,0,0.6);
    --shadow-lg: 0 8px 34px rgba(0,0,0,0.65);
  }
}

* { box-sizing: border-box; }
body {
  font-family: var(--font-base);
  margin: 0;
  padding: 0;
  line-height: 1.55;
  background: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
img, svg { display: block; max-width: 100%; }
::selection { background: var(--color-primary); color: #fff; }

.skip-link {
  position: absolute; left: -999px; top: 0; background: var(--color-primary); color:#fff; padding:.75rem 1rem; border-radius: var(--radius-sm); z-index:999; text-decoration:none; transition: var(--transition);
}
.skip-link:focus { left: 1rem; box-shadow: var(--shadow-md); }

/* Header */
.site-header { position: sticky; top:0; backdrop-filter: saturate(1.2) blur(10px); background: rgba(255,255,255,0.75); border-bottom:1px solid var(--color-border); box-shadow: var(--shadow-sm); z-index:1000; }
@media (prefers-color-scheme: dark){ .site-header { background: rgba(28,31,36,0.75); } }
.header-inner { max-width: var(--max-width); margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:.9rem 1.4rem; gap:1rem; }
.site-header h1 { font-size: clamp(1.2rem,2.2vw,1.8rem); background: var(--gradient-accent); -webkit-background-clip:text; background-clip:text; color:transparent; margin:0; font-weight:600; letter-spacing:.5px; }

/* Navigation */
nav ul { list-style:none; padding:0; margin:0; display:flex; gap:.25rem; }
nav li { margin:0; }
nav a { --pad-x:.95rem; display:inline-flex; align-items:center; gap:.35rem; padding:.55rem var(--pad-x); font-weight:500; font-size:.9rem; border-radius:var(--radius-md); color:var(--color-text); text-decoration:none; position:relative; transition: var(--transition); }
nav a:hover, nav a:focus { background: var(--color-surface-alt); color: var(--color-primary-accent); }
nav a.active { background: var(--color-primary); color:#fff; box-shadow: var(--shadow-sm); }
nav a.active:hover { filter: brightness(1.05); }
@media (prefers-color-scheme: dark){ nav a { color: var(--color-text-light); } nav a:hover { background:#2a3139; } }

/* Mobile nav toggle */
.nav-toggle { display:none; }
@media (max-width:880px){
  .nav-toggle { display:inline-flex; flex-direction:column; justify-content:center; gap:5px; width:44px; height:40px; background:var(--color-surface-alt); border:1px solid var(--color-border); border-radius:var(--radius-md); cursor:pointer; position:relative; transition:var(--transition); }
  .nav-toggle:hover { background: var(--color-surface); }
  .nav-toggle span { display:block; height:2px; width:22px; background:var(--color-text); transition: var(--transition); margin:0 auto; }
  .nav-toggle.open span:nth-child(1){ transform:translateY(7px) rotate(45deg); }
  .nav-toggle.open span:nth-child(2){ opacity:0; }
  .nav-toggle.open span:nth-child(3){ transform:translateY(-7px) rotate(-45deg); }
  #site-nav { position:absolute; left:0; top:100%; width:100%; background:var(--color-surface); border-bottom:1px solid var(--color-border); transform-origin:top; transform:scaleY(0); transition:var(--transition); overflow:hidden; z-index:1100; box-shadow:0 10px 30px -10px rgba(0,0,0,0.25); }
  #site-nav.open { transform: scaleY(1); }
  #site-nav ul { flex-direction:column; padding:.75rem .9rem 1rem; }
  #site-nav a { width:100%; }
}

/* Layout principal */
.container { max-width: var(--max-width); margin:0 auto; padding:2.2rem 1.4rem 4rem; }
section { margin-bottom:4rem; }
section h2 { margin:0 0 1.2rem; font-size:clamp(1.6rem,2.8vw,2.2rem); font-weight:600; letter-spacing:.5px; color:var(--color-primary); position:relative; }
section h2:after { content:''; display:block; width:60px; height:4px; margin-top:.55rem; border-radius:2px; background: var(--gradient-accent); }
section h3 { margin-top:2rem; color: var(--color-primary-accent); font-weight:600; }

/* Liens globaux */
a { color: var(--color-primary-accent); text-decoration:none; transition: var(--transition); }
a:hover { color: var(--color-primary); }
@media (prefers-color-scheme: dark){ a:hover { color:#46a8ff; } }
img { border-radius: var(--radius-lg); box-shadow: var(--shadow-md); margin-top:1rem; }

/* Cartes comité */
.comite-card { background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-lg); padding:1.1rem 1.15rem 1rem; margin-bottom:1.35rem; box-shadow:var(--shadow-sm); position:relative; overflow:hidden; transition: var(--transition); }
.comite-card:before { content:''; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%, rgba(255,255,255,0.35), transparent 60%); opacity:.6; pointer-events:none; }
.comite-card:hover { transform:translateY(-4px); box-shadow:var(--shadow-lg); }
.comite-card h3 { margin:0 0 .35rem; color:var(--color-primary); font-size:1.05rem; }
.comite-card p { margin:.25rem 0; font-size:.85rem; color:var(--color-text-light); }
.comite-card p strong { color:var(--color-text); font-weight:600; }
@media (min-width:700px){ #comite { display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:1.2rem; } #comite > h2 { grid-column:1 / -1; } }

/* Boutons */
.btn { display:inline-flex; align-items:center; gap:.5rem; background:var(--color-surface-alt); border:1px solid var(--color-border); padding:.7rem 1.15rem; font-size:.9rem; font-weight:500; border-radius:var(--radius-md); cursor:pointer; line-height:1.1; transition: var(--transition); color:var(--color-text); text-decoration:none; }
.btn:hover { background:var(--color-surface); box-shadow:var(--shadow-sm); }
.btn.primary { background: var(--gradient-accent); color:#fff; border:none; box-shadow:0 4px 14px -3px rgba(21,112,221,0.5); }
.btn.primary:hover { filter:brightness(1.05); box-shadow:0 6px 18px -4px rgba(21,112,221,0.55); }

/* News */
/* News (collapsible) */
.news { margin-top:1.5rem; padding:1rem 1rem .9rem; background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-lg); box-shadow:var(--shadow-md); position:relative; overflow:hidden; transition:var(--transition); }
.news:before { content:''; position:absolute; top:-60px; right:-60px; width:160px; height:160px; background:radial-gradient(circle at center,var(--color-primary) 0%,transparent 70%); opacity:.08; }
.news.is-expanded { padding:1.4rem 1.35rem 1.2rem; }
.news-toggle { all:unset; cursor:pointer; display:flex; align-items:center; gap:.6rem; font-size:1.05rem; font-weight:600; letter-spacing:.5px; background:transparent; color:var(--color-primary-accent); line-height:1; padding:.35rem .3rem .4rem .2rem; border-radius:var(--radius-md); }
.news-toggle:focus-visible { outline:3px solid var(--color-primary); outline-offset:2px; }
.news-toggle__icon { transition: var(--transition); font-size:.95rem; transform-origin:center; }
.news.is-expanded .news-toggle__icon { transform:rotate(90deg); }
.news-panel { margin-top:.8rem; animation: fadeSlide .4s ease both; }
@keyframes fadeSlide { from { opacity:0; transform:translateY(-6px);} to {opacity:1; transform:translateY(0);} }
.news-item + .news-item { margin-top:1.05rem; padding-top:1.05rem; border-top:1px dashed var(--color-border); }
.news-item h4 { margin:0 0 .35rem; font-size:.98rem; color:var(--color-primary-accent); letter-spacing:.3px; }
.news-item p { margin:0; font-size:.85rem; line-height:1.4; color:var(--color-text-light); }
.news-status { font-size:.75rem; opacity:.7; animation:pulse 1.4s ease-in-out infinite; }
.news-meta { margin:.15rem 0 .4rem; font-size:.62rem; text-transform:uppercase; letter-spacing:.8px; color:var(--color-text-light); }
.news-meta time { font-weight:500; }
@keyframes pulse { 0%,100%{opacity:.35;} 50%{opacity:.9;} }

/* Focus visible */
:focus-visible { outline:3px solid var(--color-primary); outline-offset:2px; }

/* Utilitaires */
.mt-sm { margin-top:.75rem; }
.text-center { text-align:center; }

/* Print */
@media print { .site-header, .nav-toggle, nav, .btn { display:none !important; } body { background:#fff; } section { page-break-inside:avoid; } }

/* Animation douce (option) */
[data-fade]{ opacity:0; transform:translateY(14px); animation: fadeIn .7s var(--transition) forwards; }
@keyframes fadeIn { to { opacity:1; transform:translateY(0); } }

/* ========== PRICING (Cotisations) ========== */
.pricing-grid { display:grid; gap:1.6rem; margin:2.2rem 0 2.5rem; }
@media (min-width:680px){ .pricing-grid { grid-template-columns: repeat(auto-fit,minmax(230px,1fr)); } }

.price-card { background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-lg); padding:1.25rem 1.15rem 1.4rem; position:relative; display:flex; flex-direction:column; gap:.9rem; box-shadow:var(--shadow-sm); transition: var(--transition); overflow:hidden; }
.price-card:before { content:''; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%, rgba(255,255,255,0.4), transparent 65%); opacity:.55; pointer-events:none; }
.price-card.highlight { border-color: var(--color-primary-accent); box-shadow:0 6px 22px -8px rgba(21,112,221,0.45); }
.price-card.highlight:after { content:'★'; position:absolute; top:10px; right:12px; font-size:1.1rem; color:var(--color-primary-accent); opacity:.85; }
.price-card:hover { transform:translateY(-5px); box-shadow:var(--shadow-lg); }
.price-card__head { display:flex; align-items:center; gap:.6rem; }
.price-card h3 { margin:0; font-size:1.05rem; font-weight:600; color:var(--color-primary); }
.badge { background: var(--gradient-accent); color:#fff; font-size:.65rem; padding:.25rem .55rem; border-radius: 2rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; box-shadow:0 2px 5px rgba(0,0,0,0.15); }
.badge.neutral { background: linear-gradient(135deg,#6d7885,#434b53); }
.price { margin:0; font-size:1.9rem; font-weight:600; line-height:1; color:var(--color-primary); }
.price span { font-size:2.4rem; letter-spacing:.5px; }
.price small { font-size:.75rem; font-weight:400; color:var(--color-text-light); margin-left:.25rem; }
.features { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.45rem; font-size:.75rem; color:var(--color-text-light); }
.features li { position:relative; padding-left:1.05rem; }
.features li:before { content:'\2713'; position:absolute; left:0; top:0; color:var(--color-primary-accent); font-size:.75rem; transform:translateY(1px); }
.intro { max-width:760px; font-size:.95rem; color:var(--color-text-light); }
.notes { background:var(--color-surface-alt); border:1px solid var(--color-border); border-radius:var(--radius-md); padding:1.2rem 1.1rem 1.1rem; margin:2rem 0 2.6rem; }
.notes h3 { margin:0 0 .8rem; font-size:1rem; font-weight:600; color:var(--color-primary); }
.notes ul { margin:0; padding-left:1.1rem; display:flex; flex-direction:column; gap:.55rem; font-size:.78rem; color:var(--color-text-light); }
.cta-center { display:flex; flex-wrap:wrap; gap:.9rem; align-items:center; }
.cta-center .btn { flex:0 0 auto; }

.site-footer.minimal { text-align:center; padding:2rem 1rem 3rem; font-size:.7rem; color:var(--color-text-light); }

@media (prefers-color-scheme: dark){
  .price-card.highlight { box-shadow:0 6px 26px -6px rgba(21,112,221,0.55); }
  .notes { background: var(--color-surface); }
}

/* Callout dans règlement */
.callout { background: var(--color-surface-alt); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:1rem 1.1rem; margin-top:1.5rem; box-shadow:var(--shadow-sm); font-size:.85rem; }
.callout .btn { margin-left:.6rem; }

/* ========== RÈGLEMENT (Accordéon) ========== */
.rules { display:grid; gap:1rem; margin:1rem 0 2.5rem; }
@media (min-width:880px){ .rules { grid-template-columns:repeat(auto-fit,minmax(340px,1fr)); } }
.rule-block { background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); overflow:hidden; position:relative; transition: var(--transition); }
.rule-block.subtle { background: var(--color-surface-alt); }
.rule-block:before { content:''; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%, rgba(255,255,255,0.45), transparent 65%); opacity:.55; pointer-events:none; }
.rule-block.is-open { box-shadow: var(--shadow-md); border-color: var(--color-primary-accent); }
.rule-toggle { all:unset; cursor:pointer; display:flex; align-items:center; justify-content:space-between; gap:1.25rem; padding:1rem 1.1rem 1rem 1.15rem; width:100%; font:600 .95rem/1.2 var(--font-base); letter-spacing:.4px; color: var(--color-primary); position:relative; }
.rule-toggle__title { flex:1; }
.rule-toggle__chevron { transition: var(--transition); font-size:.85rem; transform:rotate(0deg); opacity:.7; }
.rule-block.is-open .rule-toggle__chevron { transform:rotate(180deg); opacity:1; }
.rule-toggle:focus-visible { outline:3px solid var(--color-primary); outline-offset:2px; }
.rule-panel { padding:0 1.15rem 0; font-size:.8rem; line-height:1.45; color:var(--color-text-light); transition:max-height .55s cubic-bezier(.65,.05,.36,1); max-height:0; }
.rule-panel ul { margin:0; padding:0 0 1rem 1.05rem; display:flex; flex-direction:column; gap:.55rem; }
.rule-panel li { position:relative; }
.rule-panel li:marker { color: var(--color-primary-accent); }
.rule-panel p { margin:0 0 1rem; }
@media (prefers-color-scheme: dark){
  .rule-block { background: var(--color-surface); }
  .rule-block.subtle { background: var(--color-surface); }
  .rule-panel { color: var(--color-text-light); }
}
@media (prefers-reduced-motion: reduce){ .rule-panel { transition:none !important; } .rule-toggle__chevron { transition:none !important; } }
